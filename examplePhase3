// Jordan Brown, CIS 406, Course Project Part 2 - Updated with aligned table
package orderEntryPhase2;

import java.util.Scanner;
import java.text.DecimalFormat;

public class OrderEntryPhase2 {

    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);
        DecimalFormat df = new DecimalFormat("#0.00"); // For formatting decimals

        // Totals
        int totalItems = 0;
        double totalGross = 0;
        double totalTax = 0;
        double totalDiscount = 0;
        double totalNet = 0;

        String continueEntry = "y";

        // Print column headers
        System.out.printf("%-12s %-20s %10s %5s %7s %10s %7s %10s %10s%n",
                "Item Number", "Item Description", "Price", "Qty", "Tax %", "Tax Amt",
                "Disc %", "Disc Amt", "Net Amt");

        while (!continueEntry.equalsIgnoreCase("n")) {
            // Prompt user for input
            System.out.print("Enter item number: ");
            String itemNumber = input.nextLine();
            System.out.print("Enter item description: ");
            String itemDescription = input.nextLine();
            System.out.print("Enter item price: $");
            double itemPrice = input.nextDouble();
            System.out.print("Enter quantity ordered: ");
            int quantityOrdered = input.nextInt();

            // Calculate amounts
            double grossAmount = itemPrice * quantityOrdered;

            System.out.print("Enter tax percent: ");
            double taxPercent = input.nextDouble();
            double taxAmount = grossAmount * (taxPercent / 100);

            System.out.print("Enter discount percent: ");
            double discountPercent = input.nextDouble();
            double discountAmount = grossAmount * (discountPercent / 100);

            double netAmount = grossAmount + taxAmount - discountAmount;

            // Display item data
            System.out.printf("%-12s %-20s %10s %5d %7s %10s %7s %10s %10s%n",
                    itemNumber,
                    itemDescription.length() > 20 ? itemDescription.substring(0, 20) : itemDescription,
                    df.format(itemPrice),
                    quantityOrdered,
                    df.format(taxPercent),
                    df.format(taxAmount),
                    df.format(discountPercent),
                    df.format(discountAmount),
                    df.format(netAmount));

            // Update totals
            totalItems++;
            totalGross += grossAmount;
            totalTax += taxAmount;
            totalDiscount += discountAmount;
            totalNet += netAmount;

            // Ask if user wants to enter another item
            input.nextLine(); // consume leftover newline
            System.out.print("\nDo you want to enter another item? (y/n): ");
            continueEntry = input.nextLine();

            while (!continueEntry.equalsIgnoreCase("y") && !continueEntry.equalsIgnoreCase("n")) {
                System.out.print("Invalid response. Please enter 'y' or 'n': ");
                continueEntry = input.nextLine();
            }
        }

        // Display totals
        System.out.println("\nTOTALS");
        System.out.println("Total Items: " + totalItems);
        System.out.println("Total Gross Amount: $" + df.format(totalGross));
        System.out.println("Total Tax Amount: $" + df.format(totalTax));
        System.out.println("Total Discount Amount: $" + df.format(totalDiscount));
        System.out.println("Total Net Amount: $" + df.format(totalNet));

        input.close();
    }
}
